\paragraph{3.3}~{}

(a)
要证任意一个由根到叶结点的路径，好结点的数量不超过$c_1log_2n$，等价于证明好结点最多的路径，好结点的数量不超过$c_1log_2n$。
好结点数量最多时，所有的好结点划分都恰好为$\frac{s}{3}$和$\frac{2s}{3}$。设好结点的数量为$k$，因此有
$$n*\frac{2}{3}^k \ge 1$$
由上式可得到$$k \le \frac{log_2 \: n}{log_2 \: \frac{3}{2}}$$
因此$c_1 = \frac{1}{log_2 \: \frac{3}{2}}$

(b)
设$X_i=1$表示$i$是坏结点，$X_i=0$表示$i$是好结点。
$$Pr[X_i=0] = \frac{1}{3}$$
$$Pr[X_i=1] = \frac{2}{3}$$
设当前路径上有$N$个结点，
记$X=\sum X_i$，则有$E[X] = \frac{2}{3}N$，好结点的个数即为$N-X$个。

由(a)知，$$N-X \le \frac{log_2 \: n}{log_2 \: \frac{3}{2}} $$
由此可得
$$
E[N-X] = E[N] - E[X] = \frac{1}{3}E[N] le \frac{log_2 \: n}{log_2 \: \frac{3}{2}} 
$$
可得$$E[N] \le \frac{3 \:log_2 \: n}{log_2 \: \frac{3}{2}}$$
则
$$
Pr(N \ge \frac{3 \:log_2 \: n}{log_2 \: \frac{3}{2}} *(1+\delta))
\le Pr(N \ge E[N] *(1+\delta))<e^{-\frac{\mu \delta^2}{3}}
$$
令$\delta = \sqrt{2\:ln\:\frac{3}{2}}$，由切尔诺夫界则有
$$Pr(N \ge \frac{3(1+\sqrt{2\:ln\:\frac{3}{2}})}{log_2 \: \frac{3}{2}} * log_2\:n) < e^{-\frac{2\mu \:ln\:\frac{3}{2}}{3}} = \frac{1}{n^2}$$
令$c_2 = \frac{3(1+\sqrt{2\:ln\:\frac{3}{2}})}{log_2 \: \frac{3}{2}}$ 则
$$Pr(N \ge c_2\:log_2\:n) < \frac{1}{n^2}$$ 即
$Pr(N \le c_2\:log_2\:n) \ge 1-\frac{1}{n^2}$，其中$c_2 = \frac{3(1+\sqrt{2\:ln\:\frac{3}{2}})}{log_2 \: \frac{3}{2}}$。

(c)设所有的叶结点到根结点的长度由小到大分别是$N_1,N_2,\cdots,N_n$，那么有
$$
\begin{aligned}
    Pr(N_n \le c_2\:log+2\:n) &= 1 - Pr(N_n > c_2\:log+2\:n) \\
    &= 1-Pr(\bigcup_{i=1}^n N_i > c_2\:log+2\:n) \\
    &\ge 1-\sum_{i=1}^n Pr(N_i > c_2\:log+2\:n) \\
    &> 1-\sum_{i=1}^n \frac{1}{n^2} \\
    &=1 - \frac{1}{n}
\end{aligned}
$$


(d) 设对$n$个元素进行快排的时间为$T(n)$，那么对$n > 1$ 我们有$$T(n) = T(x)+T(n-x)+O(n)$$
由(c)可知树深度不超过$ c_2\:log+2\:n$的概率为$1-\frac{1}{n}$，则$Pr(T(n) = O(n \: log_2 \: n)) >  1-\frac{1}{n}$。